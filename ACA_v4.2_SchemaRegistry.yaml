version: "4.2"
modules:
  - name: capability_gate
    version: "4.2.0"
    inputs: [request_context, capability_token]
    outputs: [decision, scope, audit_event]
  - name: schema_registry
    version: "4.2.0"
    inputs: [module_decl]
    outputs: [validated_decl, fallback_decl]
  - name: audit_log
    version: "4.2.0"
    inputs: [event, prev_hash]
    outputs: [hash_chained_event]
  - name: sandbox_runner
    version: "4.2.0"
    inputs: [code, timeout_s, memory_mb, sandbox_dir]
    outputs: [result, resource_usage, audit_event]
  - name: run_manifest
    version: "4.2.0"
    inputs: [run_id, identity, config, module_versions, capability_events, quality_metrics]
    outputs: [manifest_json]
  - name: uncertainty_protocol
    version: "4.2.0"
    inputs: [confidence_score, source_required]
    outputs: [label, capability_gate_required]
  - name: identity_gate
    version: "4.2.0"
    inputs: [signal_set]
    outputs: [validated_identity, fallback_identity]
